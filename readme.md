# Transcript -> Table Converter

Small Python script that converts a plain transcript into a pipe-delimited table suitable for inspection or further processing.

Key items in this workspace:
- Script: [convert_transcript_to_table.py](convert_transcript_to_table.py) — contains the main function [`build_dataframe_with_index`](convert_transcript_to_table.py).
- Example inputs: [erp.txt](erp.txt), [test_input_transcript.txt](test_input_transcript.txt)
- Output: [output_transcript.txt](output_transcript.txt) (generated by the script)
- Dependencies: [requirements.txt](requirements.txt)
- VS Code debug config: [.vscode/launch.json](.vscode/launch.json)

Usage
1. Install dependencies:
```sh
pip install -r requirements.txt
```

2. Run the converter:
```sh
python convert_transcript_to_table.py
```
The script calls [`build_dataframe_with_index`](convert_transcript_to_table.py) with `"erp.txt"` by default and writes a pipe-delimited file `output_transcript.txt`.

What the script does (summary)
- Reads an input transcript, groups consecutive lines into blocks that start with a timestamp header (expected format: `HH:MM:SS Speaker N`).
- Concatenates following lines in a block into a single "Text" field.
- Emits a timestamp marker like `[HH:MM:SS]` only when the minute changes (first row of each minute).
- Produces a table with columns: Index, Speaker, Text, Timestamp Marker and saves it as a pipe-delimited file.

Assumptions & limitations
- Header detection uses regex matching `(\d{2}):(\d{2}):(\d{2})\s+Speaker\s+(1|2)`. Headers must match that pattern.
- Block split logic currently checks lines that begin with `00:` or `01:` to start blocks; other hour prefixes may need adding.
- The script currently hardcodes the input filename at the bottom. To process other files, change the call or refactor to accept CLI args.

Suggested improvements
- Add command-line arguments (input/output paths).
- Extend header pattern to support more speakers and different timestamp formats.
- Add unit tests and logging.

Referenced workspace symbols/files
- Script and function: [`convert_transcript_to_table.py`](convert_transcript_to_table.py) — [`build_dataframe_with_index`](convert_transcript_to_table.py)
- Input examples: [erp.txt](erp.txt), [test_input_transcript.txt](test_input_transcript.txt)
- Output file: [output_transcript.txt](output_transcript.txt)
- Dependencies: [requirements.txt](requirements.txt)
- Debug: [.vscode/launch.json](.vscode/launch.json)